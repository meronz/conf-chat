@using ConfChat.Shared
    
<div class="d-flex @PositionCssClass">
    <div class="d-flex flex-column">
        <div class="rounded-pill rounded-2 p-3 @ColorCssClass">
            <span class="fs-5">@Message.Message</span>
        </div>
        <div class="mt-1 p-1">
            <span class="fw-lighter fs-6 fst-italic mx-3">
                @if (!IsSender)
                {
                    <span>@Message.Username - </span>
                }
                <span>@Message.Timestamp.ToShortTimeString()</span>
            </span>
        </div>
    </div>
</div>

@code 
{
    [Parameter]
    public ChatMessage Message { get; set; }
    
    [Parameter]
    public bool IsSender { get; set; }

    private string PositionCssClass => IsSender ? "justify-content-end text-end ms-5" : "justify-content-start text-start me-5";
    private string ColorCssClass => IsSender ? "bg-primary text-light" : "bg-light text-dark";
}
